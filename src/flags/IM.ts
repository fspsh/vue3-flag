import { defineComponent, h, type PropType } from 'vue'
import FlagFrame from '../components/FlagFrame.vue'
import type { BaseFlagProps } from '../types'

const svg = {
  sm: `<svg fill="none" viewBox="0 0 16 12"><g clip-path="url(#fp_IM_sma)"><path fill="#fff" d="M0 0h16v12H0z"/><path fill="#e31d1c" fill-rule="evenodd" d="M0 0v12h16V0z" clip-rule="evenodd"/><mask id="fp_IM_smb" width="16" height="12" x="0" y="0" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M0 0v12h16V0z" clip-rule="evenodd"/></mask><g mask="url(#fp_IM_smb)"><path fill="#f7fcff" fill-rule="evenodd" d="M3.047 2.07c-.004-.046.051-.068.083-.034.224.246.818.858 1.16.858.43 0 2.117-1.421 2.616-1.19.498.232 1.508 2.652 1.508 2.652l-.658.826-.85-.464-.236-1.546s-1.561.782-2.38.477l-.459.167s-.442-.876-.617-1.144c-.115-.178-.154-.443-.167-.602" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m4 4.138-.588.309.112-.655-.475-.463.657-.096L4 2.638l.294.595.657.096-.475.463.112.655zM6.566 1.768a.18.18 0 0 1 .36.03l-.11 1.381a.18.18 0 1 1-.36-.029z" clip-rule="evenodd"/><path fill="#f7fcff" fill-rule="evenodd" d="M12.61 2.552c.041.021.031.08-.015.088-.327.06-1.16.24-1.343.53-.227.365.084 2.548-.376 2.849-.46.3-3.049-.127-3.049-.127l-.35-.995.843-.475 1.481.59s.14-1.68.832-2.21l.08-.51s.979.089 1.298.083c.212-.004.457.104.6.177" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m10.253 2.428.049-.662.495.442.646-.158-.268.608.35.565-.661-.066-.43.506-.14-.648-.615-.252zM10.977 5.6a.195.195 0 1 1-.235.31l-.962-.746a.177.177 0 0 1 .213-.282z" clip-rule="evenodd"/><path fill="#f7fcff" fill-rule="evenodd" d="M7.431 10.492c-.039.025-.085-.013-.07-.057.113-.314.374-1.125.213-1.428-.202-.38-2.248-1.202-2.278-1.75-.03-.55 1.634-2.577 1.634-2.577l1.037.193-.01.969-1.346.986s1.516.95 1.63 1.816l.363.336s-.566.802-.72 1.082c-.103.185-.319.344-.453.43" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m8.946 8.457.549.374-.63.208-.187.638-.393-.536-.663.02.387-.539-.224-.625.633.202.525-.406zM5.552 7.478a.203.203 0 0 1-.147-.379l1.009-.394a.207.207 0 1 1 .15.385z" clip-rule="evenodd"/><path fill="#feca00" d="M6.831 4.882a.123.123 0 0 1-.074-.154c.021-.064.12-.17.183-.149l.868.303a.12.12 0 0 1 .08.106l.078.952c.005.067-.092.121-.158.127a.12.12 0 0 1-.128-.112l-.072-.818z"/><path fill="#feca00" d="M8.34 4.384c.052-.042.145.006.185.06.04.053.031.13-.02.17l-.602.617c-.052.041-.168-.04-.209-.093s-.052-.198 0-.239z"/></g></g><defs><clipPath id="fp_IM_sma"><path fill="#fff" d="M0 0h16v12H0z"/></clipPath></defs></svg>`,
  md: `<svg fill="none" viewBox="0 0 20 15"><g clip-path="url(#fp_IM_mda)"><path fill="#fff" d="M0 0h20v15H0z"/><path fill="#e31d1c" fill-rule="evenodd" d="M0 0v15h20V0z" clip-rule="evenodd"/><mask id="fp_IM_mdb" width="20" height="15" x="0" y="0" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M0 0v15h20V0z" clip-rule="evenodd"/></mask><g mask="url(#fp_IM_mdb)"><path fill="#f7fcff" fill-rule="evenodd" d="M3.808 2.588c-.004-.058.065-.086.104-.043.28.307 1.023 1.072 1.452 1.072.537 0 2.645-1.776 3.268-1.487.623.29 1.885 3.316 1.885 3.316l-.822 1.031-1.063-.58-.2-2.28s-2.046 1.053-3.068.67l-.575.483s-.553-1.095-.771-1.43c-.144-.222-.193-.553-.21-.752" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m5.164 5.078-.35.212.067-.45-.283-.317.39-.066.176-.408.175.408.39.066-.282.318.067.449zM8.133 2.37a.227.227 0 1 1 .453 0v1.071a.227.227 0 1 1-.453 0z" clip-rule="evenodd"/><path fill="#f7fcff" fill-rule="evenodd" d="M15.763 3.19c.051.026.038.1-.019.11-.41.075-1.451.3-1.678.663-.285.455.104 3.185-.471 3.56-.576.375-3.81-.158-3.81-.158l-.44-1.244 1.055-.594 2.04 1.038s.192-2.293 1.057-2.957l-.105-.743s1.223.111 1.622.104c.265-.005.571.13.749.22" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m12.933 3.02.006-.41.345.295.42-.071-.152.366.254.365-.44-.068-.262.297-.12-.409-.416-.181zM13.696 7.003a.245.245 0 1 1-.265.412l-.968-.647a.225.225 0 0 1 .244-.378z" clip-rule="evenodd"/><path fill="#f7fcff" fill-rule="evenodd" d="M9.29 13.115c-.05.031-.107-.017-.088-.071.14-.393.467-1.407.266-1.786-.252-.474-2.81-1.501-2.848-2.187-.037-.687 2.042-3.221 2.042-3.221l1.297.242-.013 1.21L8.028 8.55s1.889 1.312 2.031 2.394l.697.28s-.708 1.003-.902 1.353c-.128.231-.397.43-.565.538" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m10.851 10.75.351.209-.427.152-.148.399-.242-.315-.442.037.278-.346-.126-.376.414.1.365-.27zM6.94 9.348a.254.254 0 0 1-.183-.474l1.042-.407a.258.258 0 1 1 .186.482z" clip-rule="evenodd"/><path fill="#feca00" d="M8.54 6.103a.153.153 0 0 1-.094-.193c.027-.08.151-.213.23-.186l1.084.38c.056.019.095.07.1.13l.097 1.19c.007.084-.115.152-.197.16a.15.15 0 0 1-.16-.14l-.09-1.023z"/><path fill="#feca00" d="M10.425 5.48c.065-.052.181.008.231.074a.155.155 0 0 1-.026.214l-.751.77c-.065.052-.21-.049-.261-.115-.05-.066-.065-.247 0-.3z"/></g></g><defs><clipPath id="fp_IM_mda"><path fill="#fff" d="M0 0h20v15H0z"/></clipPath></defs></svg>`,
  lg: `<svg fill="none" viewBox="0 0 32 24"><g clip-path="url(#fp_IM_lga)"><path fill="#fff" d="M0 0h32v24H0z"/><path fill="#e31d1c" fill-rule="evenodd" d="M0 0v24h32V0z" clip-rule="evenodd"/><mask id="fp_IM_lgb" width="32" height="24" x="0" y="0" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M0 0v24h32V0z" clip-rule="evenodd"/></mask><g mask="url(#fp_IM_lgb)"><path fill="#f7fcff" fill-rule="evenodd" d="M6.094 4.141c-.008-.093.103-.137.165-.069.45.492 1.636 1.716 2.323 1.716.859 0 4.232-2.843 5.23-2.38.997.463 3.016 5.305 3.016 5.305l-1.316 1.65-1.7-.927-.322-3.648S10.217 7.47 8.582 6.86l-.92.773S6.778 5.88 6.43 5.343c-.231-.354-.31-.884-.335-1.202" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m8.262 8.124-.56.34.107-.719-.453-.509.626-.104.28-.654.28.654.626.104-.453.51.107.718zM13.013 3.792a.363.363 0 0 1 .725 0v1.714a.363.363 0 0 1-.725 0z" clip-rule="evenodd"/><path fill="#f7fcff" fill-rule="evenodd" d="M25.22 5.103c.083.043.062.16-.03.177-.654.12-2.321.479-2.685 1.061-.455.728.168 5.096-.753 5.696s-6.097-.253-6.097-.253l-.703-1.99 1.688-.951 3.264 1.66s.307-3.667 1.692-4.73l-.168-1.19s1.955.179 2.595.167c.423-.007.914.207 1.197.353" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m20.693 4.831.009-.654.553.471.671-.114-.243.586.406.584-.702-.11-.421.476-.191-.654-.666-.29zM21.914 11.205a.392.392 0 1 1-.424.659l-1.549-1.035a.36.36 0 0 1 .39-.606z" clip-rule="evenodd"/><path fill="#f7fcff" fill-rule="evenodd" d="M14.863 20.984c-.079.05-.17-.027-.139-.114.223-.628.747-2.25.424-2.857-.403-.758-4.497-2.402-4.556-3.5S13.86 9.36 13.86 9.36l2.075.386-.021 1.937-3.07 1.997s3.023 2.1 3.251 3.83l1.114.449s-1.132 1.605-1.442 2.164c-.205.37-.636.688-.904.86" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m17.362 17.199.562.335-.684.243-.237.639-.387-.504-.708.06.446-.554-.202-.602.662.161.584-.431zM11.103 14.957a.406.406 0 0 1-.292-.758l1.668-.651a.413.413 0 1 1 .298.77z" clip-rule="evenodd"/><path fill="#feca00" d="M13.663 9.765a.245.245 0 0 1-.149-.31c.043-.127.242-.34.366-.297l1.736.607c.09.031.153.114.16.21l.156 1.904c.01.135-.185.243-.316.254a.24.24 0 0 1-.257-.222l-.144-1.638z"/><path fill="#feca00" d="M16.68 8.768c.104-.083.29.013.37.119s.063.26-.041.342l-1.203 1.233c-.103.082-.337-.079-.417-.185-.081-.106-.104-.396 0-.479z"/></g></g><defs><clipPath id="fp_IM_lga"><path fill="#fff" d="M0 0h32v24H0z"/></clipPath></defs></svg>`
} as const

export default defineComponent({
  name: 'FlagIM',
  props: {
    size: { 
      type: String as PropType<BaseFlagProps['size']>, 
      default: 'md' 
    },
    gradient: { 
      type: String as PropType<BaseFlagProps['gradient']>, 
      default: 'none' 
    },
    hasShadow: { type: Boolean, default: false },
    hasBorder: { type: Boolean, default: true },
    hasBorderRadius: { type: Boolean, default: true }
  },
  setup(props) {
    return () => 
      h(FlagFrame, props as any, {
        default: () => h('span', {
          class: 'flag-svg-root',
          innerHTML: svg[props.size as keyof typeof svg] || svg.md
        })
      })
  }
})
