import { defineComponent, h, type PropType } from 'vue'
import FlagFrame from '../components/FlagFrame.vue'
import type { BaseFlagProps } from '../types'

const svg = {
  sm: `<svg fill="none" viewBox="0 0 16 12"><g clip-path="url(#fp_MD_sma)"><path fill="#fff" d="M0 0h16v12H0z"/><path fill="#d9071e" fill-rule="evenodd" d="M11 0h5v12h-5z" clip-rule="evenodd"/><path fill="#3d58db" fill-rule="evenodd" d="M0 0h6v12H0z" clip-rule="evenodd"/><path fill="#fbcd17" fill-rule="evenodd" d="M5 0h6v12H5z" clip-rule="evenodd"/><path fill="#fd1900" fill-rule="evenodd" d="m10.86 9.807-.527.288L8.587 6.9l.527-.287zm-5.603.077.526.288L7.53 6.977l-.527-.288z" clip-rule="evenodd"/><path fill="#a77b3b" fill-rule="evenodd" d="M5.689 4.695V7.47c0 .617-.53 1.42-.799 1.72-.267.298-.8.983-.8.983V2.704c0-.838.8-1.125.8-1.125s.664.13.799 1.125v.97c.206.161.892.657 1.335.448.526-.249.708-.962.708-.962s-.05-.72-.265-.72-.233-1.015.594-1.015.924.391.924.703c0 .163-.131.425-.256.675-.113.226-.22.442-.22.565 0 .256.193.754.476.754.198 0 1.153-.371 1.706-.593v-.825c.134-.994.798-1.125.798-1.125s.8.287.8 1.125v7.47s-.532-.686-.8-.985c-.267-.299-.798-1.102-.798-1.719V4.695zm.886 5.221c.54-.352 1.332-1.93 1.332-1.93l.263.06s.4 1.046 1.58 1.87c-1.257.335-1.58 1.01-1.58 1.01 0-.54-1.595-1.01-1.595-1.01m-.087-1c.365 0 .66-.28.66-.624 0-.346-.295-.625-.66-.625s-.66.28-.66.625.295.625.66.625m3.872-.624c0 .345-.295.625-.66.625s-.66-.28-.66-.625c0-.346.295-.625.66-.625s.66.28.66.625" clip-rule="evenodd"/><path fill="#fdff00" d="m12.57 5.204.459.198-1.87 4.326-.459-.198z"/><path fill="#e1e5e8" fill-rule="evenodd" d="M5.52 3.917h5.28v3.82s-1.344.404-2.64 1.068c-.957-.71-2.64-1.069-2.64-1.069z" clip-rule="evenodd" opacity=".3"/><mask id="fp_MD_smb" width="6" height="6" x="5" y="3" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M5.52 3.917h5.28v3.82s-1.344.404-2.64 1.068c-.957-.71-2.64-1.069-2.64-1.069z" clip-rule="evenodd"/></mask><g mask="url(#fp_MD_smb)"><path fill="#3d58db" d="M5.52 6.417h5.28v2.5H5.52z"/><path fill="#fd1900" d="M5.52 3.917h5.28v2.5H5.52z"/><path fill="#fdff00" fill-rule="evenodd" d="m7.893 5.041-.4.033.231-.311-.246-.323.402.052.154-.355.172.363.4-.033-.23.311.245.322-.402-.051-.154.355z" clip-rule="evenodd"/><path fill="#fdff00" fill-rule="evenodd" d="M7.175 4.336S6.1 4.99 6.458 5.459c.359.47.81.53.81.53s-1.1 1.65.836 2.592c2.072-.91.982-2.592.982-2.592s.638-.141.765-.649c.128-.507-.833-1.09-.833-1.09s.6.87.463 1.09-.87.445-1.377.445-1.29-.142-1.415-.527c-.127-.386.486-.922.486-.922" clip-rule="evenodd"/></g><path fill="#048f02" fill-rule="evenodd" d="M2.368 5.764s.527.624 1.024.42c.496-.204.376-.934.376-.934l-.376.34h-.32v.174l-.25-.173v.173zm.357.958s.642.56 1.075.402.324-.917.324-.917l-.376.341h-.32v.174l-.25-.174v.174zm1.73 1.271c-.433.159-1.075-.401-1.075-.401h.453v-.174l.25.174v-.174h.32l.376-.341s.109.758-.324.916" clip-rule="evenodd"/><path fill="#fdff00" fill-rule="evenodd" d="M6.99 1.124h-.5v.298h-.236v.5h.236v.872h.5v-.872h.286v-.5H6.99z" clip-rule="evenodd"/><path fill="#db4400" fill-rule="evenodd" d="m7.58 1.692-1.159.299 1.158.366z" clip-rule="evenodd"/></g><defs><clipPath id="fp_MD_sma"><path fill="#fff" d="M0 0h16v12H0z"/></clipPath></defs></svg>`,
  md: `<svg fill="none" viewBox="0 0 20 15"><g clip-path="url(#fp_MD_mda)"><path fill="#fff" d="M0 0h20v15H0z"/><path fill="#d9071e" fill-rule="evenodd" d="M13 0h7v15h-7z" clip-rule="evenodd"/><path fill="#3d58db" fill-rule="evenodd" d="M0 0h7v15H0z" clip-rule="evenodd"/><path fill="#fbcd17" fill-rule="evenodd" d="M6 0h8v15H6z" clip-rule="evenodd"/><path fill="#fd1900" fill-rule="evenodd" d="m13.574 12.259-.658.36-2.182-3.994.658-.36zm-7.003.096.658.36L9.411 8.72l-.658-.36z" clip-rule="evenodd"/><path fill="#a77b3b" fill-rule="evenodd" d="M7.111 5.868v3.47c0 .77-.663 1.775-.998 2.149-.335.373-1 1.23-1 1.23V3.38c0-1.047 1-1.407 1-1.407s.83.164.998 1.407v1.211c.257.203 1.115.823 1.669.561.658-.31.885-1.203.885-1.203s-.061-.9-.331-.9-.292-1.267.742-1.267 1.155.488 1.155.878c0 .204-.164.532-.32.844-.141.283-.276.553-.276.705 0 .321.242.943.596.943.248 0 1.442-.464 2.132-.74V3.38c.169-1.243.999-1.407.999-1.407s1 .36 1 1.407v9.336s-.665-.856-1-1.23c-.335-.373-.999-1.378-.999-2.148v-3.47zm1.108 6.527c.676-.44 1.665-2.414 1.665-2.414l.328.077s.501 1.307 1.975 2.337c-1.57.42-1.975 1.261-1.975 1.261 0-.673-1.993-1.26-1.993-1.26m-.109-1.25c.456 0 .825-.349.825-.78s-.37-.782-.825-.782c-.456 0-.825.35-.825.782 0 .431.37.78.825.78m4.84-.78c0 .431-.37.78-.825.78-.456 0-.825-.349-.825-.78s.37-.782.825-.782c.456 0 .825.35.825.782" clip-rule="evenodd"/><path fill="#fdff00" d="m15.713 6.505.573.248-2.337 5.407-.574-.248z"/><path fill="#e1e5e8" fill-rule="evenodd" d="M6.9 4.896h6.6V9.67s-1.68.506-3.3 1.336C9.004 10.12 6.9 9.67 6.9 9.67z" clip-rule="evenodd" opacity=".3"/><mask id="fp_MD_mdb" width="8" height="8" x="6" y="4" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M6.9 4.896h6.6V9.67s-1.68.506-3.3 1.336C9.004 10.12 6.9 9.67 6.9 9.67z" clip-rule="evenodd"/></mask><g mask="url(#fp_MD_mdb)"><path fill="#3d58db" d="M6.9 8.021h6.6v3.125H6.9z"/><path fill="#fd1900" d="M6.9 4.896h6.6v3.125H6.9z"/><path fill="#fdff00" fill-rule="evenodd" d="m9.867 6.301-.5.042.288-.39-.307-.402.502.064.193-.444.214.454.5-.042-.288.39.307.403-.502-.065-.193.444z" clip-rule="evenodd"/><path fill="#fdff00" fill-rule="evenodd" d="M8.969 5.42s-1.344.817-.896 1.404 1.012.662 1.012.662-1.375 2.062 1.044 3.24c2.59-1.137 1.228-3.24 1.228-3.24s.798-.176.957-.81c.16-.635-1.042-1.363-1.042-1.363s.75 1.087.579 1.362-1.089.556-1.722.556-1.61-.178-1.768-.659.608-1.152.608-1.152" clip-rule="evenodd"/><path fill="#fdff00" fill-rule="evenodd" d="m7.725 7.5.825.52-.825.522L6.9 8.02zM12.675 7.5l.825.52-.825.522-.825-.521zM7.7 9.563a.25.25 0 1 0 0-.5.25.25 0 0 0 0 .5M13.019 9.09c-.215-.175-.544-.124-.735.112s-.172.568.042.742c.117.095.056-.28.233-.52.148-.2.558-.255.46-.335" clip-rule="evenodd"/></g><path fill="#048f02" fill-rule="evenodd" d="M2.96 7.206s.66.778 1.28.524c.62-.255.47-1.168.47-1.168l-.47.426h-.4v.218l-.313-.218v.218zm.446 1.197s.803.7 1.344.502.405-1.146.405-1.146l-.47.426h-.4v.218l-.312-.218v.218zm2.162 1.589c-.54.198-1.344-.503-1.344-.503h.567v-.217l.313.217v-.217h.4l.47-.426s.135.948-.406 1.146" clip-rule="evenodd"/><path fill="#fdff00" fill-rule="evenodd" d="M8.737 1.405h-.625v.373h-.294v.625h.294v1.09h.625v-1.09h.358v-.625h-.358z" clip-rule="evenodd"/><path fill="#db4400" fill-rule="evenodd" d="m9.474 2.115-1.448.373 1.448.458z" clip-rule="evenodd"/></g><defs><clipPath id="fp_MD_mda"><path fill="#fff" d="M0 0h20v15H0z"/></clipPath></defs></svg>`,
  lg: `<svg fill="none" viewBox="0 0 32 24"><g clip-path="url(#fp_MD_lga)"><path fill="#fff" d="M0 0h32v24H0z"/><path fill="#d9071e" fill-rule="evenodd" d="M22 0h10v24H22z" clip-rule="evenodd"/><path fill="#3d58db" fill-rule="evenodd" d="M0 0h12v24H0z" clip-rule="evenodd"/><path fill="#fbcd17" fill-rule="evenodd" d="M10 0h12v24H10z" clip-rule="evenodd"/><path fill="#fd1900" fill-rule="evenodd" d="m21.719 19.614-1.054.575-3.49-6.388 1.053-.576zm-11.205.154 1.053.575 3.49-6.389-1.053-.575z" clip-rule="evenodd"/><path fill="#a77b3b" fill-rule="evenodd" d="M11.378 9.389v5.551c0 1.234-1.062 2.84-1.597 3.439-.536.597-1.6 1.967-1.6 1.967V5.408c0-1.675 1.6-2.25 1.6-2.25s1.327.262 1.597 2.25v1.938c.411.324 1.783 1.317 2.67.898 1.053-.498 1.416-1.925 1.416-1.925s-.098-1.44-.53-1.44-.467-2.028 1.188-2.028c1.654 0 1.847.782 1.847 1.405 0 .327-.262.85-.51 1.35-.227.453-.443.885-.443 1.129 0 .513.387 1.509.953 1.509.397 0 2.307-.742 3.412-1.186v-1.65c.27-1.988 1.598-2.25 1.598-2.25s1.6.575 1.6 2.25v14.938s-1.065-1.37-1.6-1.967c-.536-.598-1.598-2.206-1.598-3.439V9.39zm1.772 10.443c1.082-.704 2.664-3.862 2.664-3.862l.525.122s.802 2.092 3.16 3.74c-2.513.671-3.16 2.018-3.16 2.018 0-1.078-3.189-2.018-3.189-2.018m-.174-1.999c.729 0 1.32-.56 1.32-1.25s-.591-1.25-1.32-1.25-1.32.56-1.32 1.25.591 1.25 1.32 1.25m7.744-1.25c0 .69-.591 1.25-1.32 1.25s-1.32-.56-1.32-1.25.591-1.25 1.32-1.25 1.32.56 1.32 1.25" clip-rule="evenodd"/><path fill="#fdff00" d="m25.14 10.408.918.396-3.74 8.652-.918-.396z"/><path fill="#e1e5e8" fill-rule="evenodd" d="M11.04 7.833H21.6v7.64s-2.687.809-5.28 2.137c-1.914-1.42-5.28-2.138-5.28-2.138z" clip-rule="evenodd" opacity=".3"/><mask id="fp_MD_lgb" width="11" height="11" x="11" y="7" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M11.04 7.833H21.6v7.64s-2.687.809-5.28 2.137c-1.914-1.42-5.28-2.138-5.28-2.138z" clip-rule="evenodd"/></mask><g mask="url(#fp_MD_lgb)"><path fill="#3d58db" d="M11.04 12.833H21.6v5H11.04z"/><path fill="#fd1900" d="M11.04 7.833H21.6v5H11.04z"/><path fill="#fdff00" fill-rule="evenodd" d="m15.787 10.082-.8.066.461-.622-.492-.645.805.103.308-.71.343.726.8-.067-.462.623.492.645-.804-.104-.308.711z" clip-rule="evenodd"/><path fill="#fdff00" fill-rule="evenodd" d="M14.35 8.672s-2.15 1.308-1.433 2.247 1.619 1.059 1.619 1.059-2.2 3.299 1.671 5.184c4.144-1.82 1.965-5.184 1.965-5.184s1.275-.283 1.53-1.298-1.667-2.18-1.667-2.18 1.2 1.74.926 2.18-1.74.89-2.754.89c-1.013 0-2.578-.284-2.83-1.055s.973-1.843.973-1.843" clip-rule="evenodd"/><path fill="#fdff00" fill-rule="evenodd" d="m12.36 12 1.32.833-1.32.834-1.32-.834zM20.28 12l1.32.833-1.32.834-1.32-.834zM12.32 15.3a.4.4 0 1 0 0-.8.4.4 0 0 0 0 .8M20.83 14.543c-.343-.278-.87-.197-1.175.18-.306.378-.276.91.067 1.188.187.15.09-.45.372-.832.237-.32.893-.41.736-.536" clip-rule="evenodd"/></g><path fill="#048f02" fill-rule="evenodd" d="M4.737 11.529s1.054 1.246 2.046.839c.993-.408.752-1.869.752-1.869l-.752.683h-.64v.347l-.5-.347v.347zm.713 1.915s1.284 1.12 2.15.804.648-1.833.648-1.833l-.752.682h-.64v.347l-.5-.347v.347zm3.46 2.543c-.866.317-2.151-.804-2.151-.804h.907v-.347l.5.347v-.347h.64l.752-.683s.217 1.517-.649 1.834" clip-rule="evenodd"/><path fill="#fdff00" fill-rule="evenodd" d="M13.98 2.248h-1v.596h-.471v1h.47V5.59h1V3.844h.573v-1h-.573z" clip-rule="evenodd"/><path fill="#db4400" fill-rule="evenodd" d="m15.158 3.385-2.316.596 2.316.732z" clip-rule="evenodd"/></g><defs><clipPath id="fp_MD_lga"><path fill="#fff" d="M0 0h32v24H0z"/></clipPath></defs></svg>`
} as const

export default defineComponent({
  name: 'FlagMD',
  props: {
    size: { 
      type: String as PropType<BaseFlagProps['size']>, 
      default: 'md' 
    },
    gradient: { 
      type: String as PropType<BaseFlagProps['gradient']>, 
      default: 'none' 
    },
    hasShadow: { type: Boolean, default: false },
    hasBorder: { type: Boolean, default: true },
    hasBorderRadius: { type: Boolean, default: true }
  },
  setup(props) {
    return () => 
      h(FlagFrame, props as any, {
        default: () => h('span', {
          class: 'flag-svg-root',
          innerHTML: svg[props.size as keyof typeof svg] || svg.md
        })
      })
  }
})
