import { defineComponent, h, type PropType } from 'vue'
import FlagFrame from '../components/FlagFrame.vue'
import type { BaseFlagProps } from '../types'

const svg = {
  sm: `<svg fill="none" viewBox="0 0 16 12"><g clip-path="url(#fp_IQ_sma)"><path fill="#fff" d="M0 0h16v12H0z"/><path fill="#f7fcff" fill-rule="evenodd" d="M0 0v12h16V0z" clip-rule="evenodd"/><mask id="fp_IQ_smb" width="16" height="12" x="0" y="0" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M0 0v12h16V0z" clip-rule="evenodd"/></mask><g mask="url(#fp_IQ_smb)"><path fill="#bf2714" fill-rule="evenodd" d="M0 0v4h16V0z" clip-rule="evenodd"/><path fill="#272727" fill-rule="evenodd" d="M0 8v4h16V8z" clip-rule="evenodd"/><path fill="#009c4e" fill-rule="evenodd" d="M2.668 6.406C3.123 7.058 2.5 7.5 2.5 7.5s.545 0 .753-.437h4.46V6.1s-.094-.463-.491-.463-.487.463-.487.463H5.167l1.517-1.34-.295-.26-1.685 1.488v.315h2.393v-.185s.013-.108.125-.108.084.108.084.108v.396H4.291v-.542l-.326.146v.396s-.4-.108-.653-.108c-.252 0-.267-.288-.267-.288zm6.055.037.245.609h-.973V4.607l.41.132v1.704zm4.532 0 .245.609h-.973V4.607l.41.132v1.704zm-1.204-1.81-.254.171v1.637h-.258V5.128l-.425.245v1.068h-.286V5.7l-.323.208v.201s-.622.043-.622.922h2.165zm-8.305 2.85c.078 0 .142-.056.142-.125 0-.07-.064-.125-.142-.125s-.142.056-.142.125.064.125.142.125m7.211-2.662c-.11.145-.443 0-.443 0l.946-.11c-.098.191-.503.11-.503.11" clip-rule="evenodd"/><path fill="#009c4e" d="m2.5 7.5-.145-.204-.64.454H2.5zm.168-1.094-.152-.199-.19.145.137.197zm.585.657v-.25h-.157l-.068.142zm4.46 0v.25h.25v-.25zm0-.963h.25v-.025l-.006-.025zm-.978 0v.25h.207l.039-.203zm-1.568 0-.165-.188-.496.438h.661zm1.517-1.34.166.188.212-.188-.212-.187zM6.39 4.5l.166-.187-.166-.146-.165.146zM4.704 5.988 4.539 5.8l-.085.075v.113zm0 .315h-.25v.25h.25zm2.393 0v.25h.25v-.25zm0-.185-.249-.031-.001.015v.016zm.21 0-.243-.062-.008.03v.032zm0 .396v.25h.25v-.25zm-3.016 0h-.25v.25h.25zm0-.542h.25v-.386l-.352.158zm-.326.146-.102-.229-.148.066v.163zm0 .396-.066.241.316.086v-.327zm-.92-.396.25-.013-.025-.475-.377.289zm5.923.934v.25h.37L9.2 6.958zm-.245-.61.232-.093-.063-.156h-.169zm-.728.61h-.25v.25h.25zm0-2.445.076-.238-.326-.104v.342zm.41.132h.25v-.183L8.481 4.5zm0 1.704h-.25v.25h.25zm5.095.609v.25h.37l-.138-.344zm-.245-.61.232-.093-.062-.156h-.17zm-.728.61h-.25v.25h.25zm0-2.445.076-.238-.326-.104v.342zm.41.132h.25v-.183l-.173-.056zm0 1.704h-.25v.25h.25zm-1.14-1.639-.14-.207-.11.074v.133zm.254-.172h.25v-.47l-.39.263zm-.254 1.809v.25h.25v-.25zm-.258 0h-.25v.25h.25zm0-1.313h.25v-.433l-.375.217zm-.425.245-.125-.216-.125.072v.144zm0 1.068v.25h.25v-.25zm-.286 0h-.25v.25h.25zm0-.741h.25v-.458l-.385.248zm-.323.208-.136-.21-.114.073v.137zm0 .201.017.25.233-.017V6.11zm-.622.922h-.25v.25h.25zm2.165 0v.25h.25v-.25zm-1.534-2.21-.03-.249-.923.108.853.37zm.443 0 .05-.245-.154-.031-.095.125zm.503-.11.222.114.213-.416-.464.054zM2.5 7.5l.145.204.002-.002.011-.008a1 1 0 0 0 .11-.097c.063-.064.144-.16.209-.285a.94.94 0 0 0 .107-.47 1.1 1.1 0 0 0-.21-.58l-.41.287c.089.128.117.233.12.313a.44.44 0 0 1-.052.221.7.7 0 0 1-.177.213l-.001.001h.001zm.528-.545a.5.5 0 0 1-.31.253.8.8 0 0 1-.22.042H2.5l.001.5h.005a1 1 0 0 0 .115-.009c.066-.008.158-.025.258-.059a1 1 0 0 0 .601-.512zm4.684-.142H3.253v.5h4.46zm-.25-.713v.963h.5V6.1zm-.24-.213c.082 0 .136.042.182.115a.5.5 0 0 1 .063.149V6.15l.49-.1v-.004l-.008-.03a1 1 0 0 0-.122-.28.7.7 0 0 0-.605-.349zm-.487.213.246.048v.001l.001-.007A.5.5 0 0 1 7.042 6c.045-.073.098-.114.18-.114v-.5a.7.7 0 0 0-.605.35 1 1 0 0 0-.127.315zm-1.568.25h1.568v-.5H5.167zM6.52 4.573l-1.517 1.34.33.374 1.518-1.34zm-.295.114.295.26.33-.374-.294-.26zM4.869 6.175l1.686-1.488-.331-.374L4.539 5.8zm.085.128v-.315h-.5v.315zm2.143-.25H4.704v.5h2.393zm-.25.065v.185h.5v-.185zm.375-.358a.366.366 0 0 0-.361.27l-.011.047v.005l-.001.002v.002l.248.032.248.03v.004l-.005.02a.1.1 0 0 1-.013.027.14.14 0 0 1-.105.061zm.084.358.243.06v-.003l.004-.018a.4.4 0 0 0-.005-.158.32.32 0 0 0-.114-.17.35.35 0 0 0-.212-.069v.5a.16.16 0 0 1-.092-.035.2.2 0 0 1-.066-.097.14.14 0 0 1 0-.07v-.001zm.25.396v-.396h-.5v.396zm-3.265.25h3.015v-.5H4.291zm-.25-.792v.542h.5v-.542zm.026.374.326-.146-.204-.456-.326.145zm.148.168v-.396h-.5v.396zm-.903.142c.1 0 .242.022.37.049a4 4 0 0 1 .217.05l.131-.482h-.001l-.004-.002-.067-.017-.174-.039a2.5 2.5 0 0 0-.472-.06zm-.267-.538-.25.013v.01a1 1 0 0 0 .01.07c.009.041.024.1.054.16a.49.49 0 0 0 .453.285v-.5c-.012 0-.008-.003 0 .003q.005.006-.004-.007a.2.2 0 0 1-.014-.05V6.1v.003zm-.225.486.377-.288-.304-.397-.377.288zm6.38.354-.245-.609-.464.187.245.609zm-1.205.344h.973v-.5h-.973zm-.25-2.695v2.445h.5V4.607zM8.48 4.5l-.41-.13-.152.475.41.132zm.174 1.943V4.739h-.5v1.704zm.068-.25h-.318v.5h.318zm5.009.765-.244-.609-.464.187.244.609zm-1.205.344h.973v-.5h-.973zm-.25-2.695v2.445h.5V4.607zm.737-.107-.41-.13-.153.475.41.132zm.173 1.943V4.739h-.5v1.704zm.069-.25h-.319v.5h.319zM11.936 5.01l.254-.171-.28-.415-.254.172zm.11 1.43V4.804h-.5v1.637zm-.508.25h.258v-.5h-.258zm-.25-1.563v1.313h.5V5.128zm-.05.462.425-.245-.25-.433-.425.245zm.125.851V5.373h-.5v1.068zm-.536.25h.286v-.5h-.286zm-.25-.991v.741h.5V5.7zm.062.418.323-.208-.27-.42-.324.208zm.115-.009v-.201h-.5v.201zm-.622.922c0-.372.127-.526.214-.593a.4.4 0 0 1 .173-.079h.007-.004l-.018-.25-.018-.25h-.003l-.015.002a.6.6 0 0 0-.134.03.9.9 0 0 0-.295.152c-.224.174-.407.482-.407.988zm1.915-.25H9.883v.5h2.165zm-.247-2.149-.003 2.4h.5l.003-2.4zM3.638 7.358c0-.046.02-.08.043-.1a.1.1 0 0 1 .065-.025v.5c.186 0 .392-.14.392-.375zm.108.125a.1.1 0 0 1-.065-.026.13.13 0 0 1-.043-.1h.5c0-.235-.206-.374-.392-.374zm.108-.125c0 .045-.021.08-.043.099a.1.1 0 0 1-.065.026v-.5c-.186 0-.392.14-.392.375zm-.108-.125a.1.1 0 0 1 .065.026c.022.019.043.053.043.099h-.5c0 .235.206.375.392.375zm6.768-2.412-.1.23h.003l.005.002a1 1 0 0 0 .064.025c.04.013.098.031.162.043a.7.7 0 0 0 .23.008.42.42 0 0 0 .278-.157l-.398-.302c.025-.034.055-.036.048-.035a.2.2 0 0 1-.066-.006 1 1 0 0 1-.12-.035l-.007-.002zm.917-.358-.946.11.057.496.947-.11zm-.474.358-.049.245h.003l.023.005a1.3 1.3 0 0 0 .246.016.8.8 0 0 0 .247-.044.46.46 0 0 0 .255-.218l-.445-.228c.014-.026.031-.028.016-.023a.3.3 0 0 1-.089.014 1 1 0 0 1-.157-.012h-.001z"/></g></g><defs><clipPath id="fp_IQ_sma"><path fill="#fff" d="M0 0h16v12H0z"/></clipPath></defs></svg>`,
  md: `<svg fill="none" viewBox="0 0 20 15"><g clip-path="url(#fp_IQ_mda)"><path fill="#fff" d="M0 0h20v15H0z"/><path fill="#f7fcff" fill-rule="evenodd" d="M0 0v15h20V0z" clip-rule="evenodd"/><mask id="fp_IQ_mdb" width="20" height="15" x="0" y="0" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M0 0v15h20V0z" clip-rule="evenodd"/></mask><g fill-rule="evenodd" clip-rule="evenodd" mask="url(#fp_IQ_mdb)"><path fill="#bf2714" d="M0 0v5h20V0z"/><path fill="#272727" d="M0 10v5h20v-5z"/><path fill="#009c4e" d="M3.335 8.007c.569.816-.21 1.368-.21 1.368s.68 0 .942-.546H9.64V7.625s-.117-.578-.613-.578-.608.578-.608.578H6.46L8.356 5.95l-.37-.326-2.106 1.86v.394h2.99v-.232s.017-.134.157-.134.106.134.106.134v.496H5.364v-.678l-.408.182v.496s-.5-.136-.816-.136-.334-.36-.334-.36zm7.57.046.305.761H9.994V5.76l.513.164v2.13zm5.664 0 .306.761h-1.216V5.76l.513.164v2.13zm-1.506-2.262-.317.214v2.046h-.322v-1.64l-.532.306V8.05h-.357v-.926l-.404.26v.251s-.778.054-.778 1.153h2.707zM4.683 9.354c.097 0 .176-.07.176-.157 0-.086-.079-.156-.177-.156s-.177.07-.177.156c0 .087.08.157.177.157m9.014-3.328c-.138.181-.555 0-.555 0l1.183-.137c-.122.238-.628.137-.628.137"/></g></g><defs><clipPath id="fp_IQ_mda"><path fill="#fff" d="M0 0h20v15H0z"/></clipPath></defs></svg>`,
  lg: `<svg fill="none" viewBox="0 0 32 24"><g clip-path="url(#fp_IQ_lga)"><path fill="#fff" d="M0 0h32v24H0z"/><path fill="#f7fcff" fill-rule="evenodd" d="M0 0v24h32V0z" clip-rule="evenodd"/><mask id="fp_IQ_lgb" width="32" height="24" x="0" y="0" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" fill-rule="evenodd" d="M0 0v24h32V0z" clip-rule="evenodd"/></mask><g fill-rule="evenodd" clip-rule="evenodd" mask="url(#fp_IQ_lgb)"><path fill="#bf2714" d="M0 0v8h32V0z"/><path fill="#272727" d="M0 16v8h32v-8z"/><path fill="#009c4e" d="M5.337 12.811C6.247 14.117 5 15 5 15s1.09 0 1.507-.874h8.917V12.2s-.186-.925-.98-.925c-.795 0-.973.925-.973.925h-3.137l3.035-2.68-.59-.52-3.371 2.976v.63h4.785v-.37s.027-.216.25-.216c.224 0 .17.215.17.215v.793h-6.03v-1.084l-.653.291v.793s-.8-.217-1.305-.217c-.506 0-.536-.576-.536-.576zm12.11.074.489 1.218H15.99V9.214l.82.263v3.408zm9.064 0L27 14.103h-1.946V9.214l.82.263v3.408zm-2.41-3.62-.506.343v3.274h-.517v-2.626l-.85.49v2.136h-.572V11.4l-.647.416v.402s-1.244.086-1.244 1.845h4.331zm-16.61 5.7c.157 0 .284-.111.284-.25 0-.137-.127-.25-.283-.25-.157 0-.283.113-.283.25 0 .139.126.25.283.25m14.424-5.323c-.22.29-.888 0-.888 0l1.893-.22c-.196.382-1.006.22-1.006.22"/></g></g><defs><clipPath id="fp_IQ_lga"><path fill="#fff" d="M0 0h32v24H0z"/></clipPath></defs></svg>`
} as const

export default defineComponent({
  name: 'FlagIQ',
  props: {
    size: { 
      type: String as PropType<BaseFlagProps['size']>, 
      default: 'md' 
    },
    gradient: { 
      type: String as PropType<BaseFlagProps['gradient']>, 
      default: 'none' 
    },
    hasShadow: { type: Boolean, default: false },
    hasBorder: { type: Boolean, default: true },
    hasBorderRadius: { type: Boolean, default: true }
  },
  setup(props) {
    return () => 
      h(FlagFrame, props as any, {
        default: () => h('span', {
          class: 'flag-svg-root',
          innerHTML: svg[props.size as keyof typeof svg] || svg.md
        })
      })
  }
})
