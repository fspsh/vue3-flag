import { defineComponent, h, type PropType } from 'vue'
import FlagFrame from '../components/FlagFrame.vue'
import type { BaseFlagProps } from '../types'

const svg = {
  sm: `<svg fill="none" viewBox="0 0 16 12"><g clip-path="url(#fp_CC_sma)"><path fill="#fff" d="M0 0h16v12H0z"/><path fill="#5eaa22" fill-rule="evenodd" d="M0 0h16v12H0z" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m12 3.5-.5.366.067-.616L11 3l.567-.25-.067-.616.5.366.5-.366-.067.616L13 3l-.567.25.067.616zM11.481 6.84l-.5.365.067-.616-.567-.25.567-.25-.067-.616.5.366.5-.366-.066.616.566.25-.566.25.066.616zM13 9.5l-.5.366.067-.616L12 9l.567-.25-.067-.616.5.366.5-.366-.067.616L14 9l-.567.25.067.616zM13.5 4.75l-.25.183.034-.308L13 4.5l.284-.125-.034-.308.25.183.25-.183-.034.308L14 4.5l-.284.125.034.308zM3.5 7a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5" clip-rule="evenodd"/><path fill="#915e2b" d="m3.245 5.994-.18-.127c.397-.52.292-1.246.18-1.724l.73-.172c.167.712-.205 1.334-.73 2.023"/><path fill="#feca00" fill-rule="evenodd" d="M9.949 7.472c-.33.565-.852.822-1.552.822a1.897 1.897 0 0 1 0-3.794c.8 0 1.437.28 1.73 1.041-.232-.23-.59-.387-1.127-.367-.828 0-1.367.645-1.367 1.198S8.172 7.675 9 7.675c.417-.006.724-.083.949-.203" clip-rule="evenodd"/><path fill="#5eaa22" fill-rule="evenodd" d="M3.5 4.37c.828 0 1.357-.224 1.357-.5s-.529-.5-1.357-.5-1.258.224-1.258.5.43.5 1.258.5" clip-rule="evenodd"/></g><defs><clipPath id="fp_CC_sma"><path fill="#fff" d="M0 0h16v12H0z"/></clipPath></defs></svg>`,
  md: `<svg fill="none" viewBox="0 0 20 15"><g clip-path="url(#fp_CC_mda)"><path fill="#fff" d="M0 0h20v15H0z"/><path fill="#5eaa22" fill-rule="evenodd" d="M0 0h20v15H0z" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m15 4.375-.625.458.084-.77-.709-.313.709-.312-.084-.77.625.457.625-.458-.084.77.709.313-.709.313.084.77zM14.352 8.55l-.625.457.083-.77-.708-.313.708-.312-.083-.77.625.457.625-.457-.084.77.709.312-.709.313.084.77zM16.25 11.875l-.625.457.084-.77L15 11.25l.709-.312-.084-.77.625.457.625-.457-.084.77.709.312-.709.313.084.77zM16.875 5.938l-.312.228.041-.385-.354-.156.354-.156-.041-.385.312.229.313-.23-.042.386.354.156-.354.156.041.385zM4.375 8.75a3.125 3.125 0 1 0 0-6.25 3.125 3.125 0 0 0 0 6.25" clip-rule="evenodd"/><path fill="#915e2b" d="m4.056 7.492-.224-.158c.496-.65.365-1.558.224-2.155l.912-.215c.21.89-.255 1.668-.912 2.528"/><path fill="#feca00" fill-rule="evenodd" d="M12.436 9.34c-.411.707-1.065 1.027-1.94 1.027a2.371 2.371 0 0 1 0-4.742c1 0 1.796.35 2.162 1.302-.29-.287-.738-.484-1.408-.46-1.036 0-1.71.807-1.71 1.498 0 .69.675 1.628 1.71 1.628.52-.007.906-.103 1.186-.252" clip-rule="evenodd"/><path fill="#5eaa22" fill-rule="evenodd" d="M4.375 5.462c1.036 0 1.696-.28 1.696-.625s-.66-.625-1.696-.625-1.572.28-1.572.625.536.625 1.572.625" clip-rule="evenodd"/></g><defs><clipPath id="fp_CC_mda"><path fill="#fff" d="M0 0h20v15H0z"/></clipPath></defs></svg>`,
  lg: `<svg fill="none" viewBox="0 0 32 24"><g clip-path="url(#fp_CC_lga)"><path fill="#fff" d="M0 0h32v24H0z"/><path fill="#5eaa22" fill-rule="evenodd" d="M0 0h32v24H0z" clip-rule="evenodd"/><path fill="#feca00" fill-rule="evenodd" d="m24 7-1 .732.134-1.232L22 6l1.134-.5L23 4.268 24 5l1-.732-.134 1.232L26 6l-1.134.5L25 7.732zM22.963 13.679l-1 .732.134-1.232-1.134-.5 1.134-.5-.134-1.232 1 .732 1-.732-.134 1.232 1.134.5-1.134.5.134 1.232zM26 19l-1 .732.134-1.232L24 18l1.134-.5L25 16.268 26 17l1-.732-.134 1.232L28 18l-1.134.5.134 1.232zM27 9.5l-.5.366.067-.616L26 9l.567-.25-.067-.616.5.366.5-.366-.067.616L28 9l-.567.25.067.616zM7 14A5 5 0 1 0 7 4a5 5 0 0 0 0 10M19.898 14.945c-.658 1.13-1.704 1.642-3.104 1.642a3.794 3.794 0 1 1 0-7.587c1.598 0 2.874.56 3.459 2.083-.463-.46-1.18-.775-2.253-.735-1.657 0-2.735 1.29-2.735 2.395S16.343 15.35 18 15.35c.833-.013 1.449-.165 1.898-.405" clip-rule="evenodd"/><path fill="#915e2b" d="M7.582 8.694s-.977 3.58-1.38 3.92c-.18.078 1.618 0 1.618 0s-.674-.295-.437-.688.548-2.916.437-3.776-.238.544-.238.544"/><path fill="#5eaa22" fill-rule="evenodd" d="M7.79 8.827s1.049.314 1.049.85.872 1.289.872.576-.163-1.426-.518-1.426c-.354 0 .174-.48.477-.082s1.366-.037 1.15-.316c-.216-.28-.982-.628-1.11-.628-.126 0 .873-.68 0-.68-.871 0-.371.58-.962-.036-.591-.618.252.3.252-.736s-.24-1.46-1.029-.878c-.79.582-.638.213-.919-.006-.281-.22-.528.803-.218 1.012.309.208.652.726.342.726-.309 0-.527-.299-.527-.513 0-.213-.841-.591-1.64-.591s-.282.591 0 .591 1.544.43.913.43.049-.318-.747-.318c-.795 0-1.72-.362-1.72.318 0 .681.795.982 1.043.681s.536-.81.536-.302c0 .507-.633.3-1.58.615-.945.315-.674 1.144.455.942 1.128-.203 1.006-.192 1.46-.507.452-.314 1.013-.227.553.278-.46.504-.92 1.426-.46 1.426s.757.125.757-.362.267-1.436.267-.835c0 .6.348 1.054.657.835s-.072-.902.28-.902c.354 0 .367-.162.367-.162" clip-rule="evenodd"/></g><defs><clipPath id="fp_CC_lga"><path fill="#fff" d="M0 0h32v24H0z"/></clipPath></defs></svg>`
} as const

export default defineComponent({
  name: 'FlagCC',
  props: {
    size: { 
      type: String as PropType<BaseFlagProps['size']>, 
      default: 'md' 
    },
    gradient: { 
      type: String as PropType<BaseFlagProps['gradient']>, 
      default: 'none' 
    },
    hasShadow: { type: Boolean, default: false },
    hasBorder: { type: Boolean, default: true },
    hasBorderRadius: { type: Boolean, default: true }
  },
  setup(props) {
    return () => 
      h(FlagFrame, props as any, {
        default: () => h('span', {
          class: 'flag-svg-root',
          innerHTML: svg[props.size as keyof typeof svg] || svg.md
        })
      })
  }
})
